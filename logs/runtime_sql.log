[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:10:16 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:17 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT COUNT(*) "rowcount" FROM `gpap`.`data_entry` WHERE `id` = ? AND `user_id` = ? AND `batch_id` = ? AND `task_id` = ?
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] INSERT INTO `gpap`.`data_entry` (`user_id`, `batch_id`, `task_id`, `started_at`, `ended_at`) VALUES (?, ?, ?, DEFAULT, DEFAULT)
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] UPDATE `gpap`.`batch` SET `entry_status` = ?, `verify_status` = null, `balance_status` = null, `is_exception` = ?, `created_by` = ? WHERE `id` = ? AND `zip_id` = ? AND `trans_type_id` = ?
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:10:19 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:10:21 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] SELECT COUNT(*) "rowcount" FROM `gpap`.`merchant_header` WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] INSERT INTO `gpap`.`merchant_header` (`data_entry_id`, `batch_id`, `merchant_number`, `merchant_name`, `currency_id`, `other_currency`, `dcn`, `deposit_date`, `deposit_amount`, `batch_pull_reason_id`) VALUES (?, ?, ?, ?, ?, DEFAULT, ?, NOW(), ?, DEFAULT)
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 1
[Sun, 29 Apr 18 23:10:35 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:10:36 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] UPDATE `gpap`.`data_entry` SET `started_at` = ?, `ended_at` = NOW() WHERE `id` = ? AND `user_id` = ? AND `batch_id` = ? AND `task_id` = ?
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:11:45 +0800][DEBUG] UPDATE `gpap`.`batch` SET `entry_status` = ?, `verify_status` = null, `balance_status` = null, `is_exception` = ?, `created_by` = ? WHERE `id` = ? AND `zip_id` = ? AND `trans_type_id` = ?
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:11:46 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:20 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT COUNT(*) "rowcount" FROM `gpap`.`data_entry` WHERE `id` = ? AND `user_id` = ? AND `batch_id` = ? AND `task_id` = ?
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] INSERT INTO `gpap`.`data_entry` (`user_id`, `batch_id`, `task_id`, `started_at`, `ended_at`) VALUES (?, ?, ?, DEFAULT, DEFAULT)
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] UPDATE `gpap`.`batch` SET `entry_status` = ?, `verify_status` = null, `balance_status` = null, `is_exception` = ?, `created_by` = ? WHERE `id` = ? AND `zip_id` = ? AND `trans_type_id` = ?
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:13:22 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:13:23 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:13:24 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:13:26 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.merchant_number = ? AND m.dcn = ? AND m.deposit_amount = ? AND z.region_code = ? AND t.id = ?
[Sun, 29 Apr 18 23:13:26 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.dcn = ? AND z.region_code = ? AND DATE(m.deposit_date) = DATE(NOW()) AND t.id = ?
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] SELECT COUNT(*) "rowcount" FROM `gpap`.`merchant_header` WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] INSERT INTO `gpap`.`merchant_header` (`data_entry_id`, `batch_id`, `merchant_number`, `merchant_name`, `currency_id`, `other_currency`, `dcn`, `deposit_date`, `deposit_amount`, `batch_pull_reason_id`) VALUES (?, ?, ?, ?, ?, DEFAULT, ?, NOW(), ?, DEFAULT)
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 1
[Sun, 29 Apr 18 23:13:35 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:36 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] UPDATE `gpap`.`data_entry` SET `started_at` = ?, `ended_at` = NOW() WHERE `id` = ? AND `user_id` = ? AND `batch_id` = ? AND `task_id` = ?
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] UPDATE `gpap`.`batch` SET `entry_status` = ?, `verify_status` = null, `balance_status` = null, `is_exception` = ?, `created_by` = ? WHERE `id` = ? AND `zip_id` = ? AND `trans_type_id` = ?
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:47 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:13:55 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:55 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:13:55 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:13:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:56 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:13:56 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:13:58 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:13:59 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:14:00 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:14:35 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:14:36 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:15:13 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:15:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:23 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:15:23 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:15:24 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:24 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:15:24 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:15:26 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:15:29 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:29 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:15:29 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:15:29 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:29 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:15:29 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:15:32 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:15:34 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:15:35 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:15:40 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:40 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:15:40 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:15:41 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:41 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:15:41 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:15:55 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:55 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:15:55 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:15:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:15:56 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:15:56 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:15:59 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:16:40 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:16:40 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:16:40 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:16:41 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:16:41 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:16:41 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:16:44 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:16:50 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:17:41 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:17:42 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:17:48 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:17:49 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:17:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:51 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:17:51 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:17:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:52 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:17:52 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:17:53 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:17:55 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:55 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:17:55 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:17:55 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:55 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:17:55 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:17:57 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:17:58 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:17:59 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:18:38 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:18:39 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:18:40 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:40 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:18:40 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:18:42 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:18:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:47 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:18:47 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:18:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:18:57 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:18:57 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:19:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:19:00 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:19:00 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:21:08 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:21:09 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:21:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:10 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:21:10 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:21:12 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:21:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:17 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:21:17 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:21:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:19 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:21:19 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:21:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:22 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:21:22 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:21:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:34 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:21:34 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:21:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:34 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:21:34 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:21:35 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:21:36 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] UPDATE `gpap`.`merchant_header` SET `merchant_number` = ?, `merchant_name` = ?, `currency_id` = ?, `other_currency` = null, `dcn` = ?, `deposit_date` = NOW(), `deposit_amount` = ?, `batch_pull_reason_id` = null WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 1
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] DELETE FROM `gpap`.`transaction` WHERE `id` = ? AND `merchant_header_id` = ? AND `transaction_type_id` = ?
[Sun, 29 Apr 18 23:22:00 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:22:01 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:24:11 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:11 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:11 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:24:11 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:11 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:24:11 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:24:13 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:24:22 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:24:23 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.merchant_number = ? AND m.dcn = ? AND m.deposit_amount = ? AND z.region_code = ? AND t.id = ?
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.dcn = ? AND z.region_code = ? AND DATE(m.deposit_date) = DATE(NOW()) AND t.id = ?
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] UPDATE `gpap`.`merchant_header` SET `merchant_number` = ?, `merchant_name` = ?, `currency_id` = ?, `other_currency` = null, `dcn` = ?, `deposit_date` = NOW(), `deposit_amount` = ?, `batch_pull_reason_id` = null WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 1
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] DELETE FROM `gpap`.`transaction` WHERE `id` = ? AND `merchant_header_id` = ? AND `transaction_type_id` = ?
[Sun, 29 Apr 18 23:24:31 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:24:32 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:24:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:47 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:47 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:24:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:48 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:24:48 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:24:50 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:24:51 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:24:52 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.merchant_number = ? AND m.dcn = ? AND m.deposit_amount = ? AND z.region_code = ? AND t.id = ?
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.dcn = ? AND z.region_code = ? AND DATE(m.deposit_date) = DATE(NOW()) AND t.id = ?
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] UPDATE `gpap`.`merchant_header` SET `merchant_number` = ?, `merchant_name` = ?, `currency_id` = ?, `other_currency` = null, `dcn` = ?, `deposit_date` = NOW(), `deposit_amount` = ?, `batch_pull_reason_id` = null WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 1
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] DELETE FROM `gpap`.`transaction` WHERE `id` = ? AND `merchant_header_id` = ? AND `transaction_type_id` = ?
[Sun, 29 Apr 18 23:24:56 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:24:57 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:25:00 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:25:00 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:25:00 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:25:01 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:25:01 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:25:01 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:26:21 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:21 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:26:21 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:26:21 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:21 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:26:21 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:26:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:47 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:26:47 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:26:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:47 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:26:47 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:26:49 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:26:50 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:26:51 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:26:52 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] UPDATE `gpap`.`merchant_header` SET `merchant_number` = ?, `merchant_name` = ?, `currency_id` = ?, `other_currency` = null, `dcn` = ?, `deposit_date` = NOW(), `deposit_amount` = ?, `batch_pull_reason_id` = null WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 1
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] DELETE FROM `gpap`.`transaction` WHERE `id` = ? AND `merchant_header_id` = ? AND `transaction_type_id` = ?
[Sun, 29 Apr 18 23:26:53 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:26:54 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:28:37 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:28:38 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:38 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:28:38 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:28:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:39 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:28:39 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:28:41 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:28:43 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:28:44 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:28:45 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] UPDATE `gpap`.`merchant_header` SET `merchant_number` = ?, `merchant_name` = ?, `currency_id` = ?, `other_currency` = null, `dcn` = ?, `deposit_date` = NOW(), `deposit_amount` = ?, `batch_pull_reason_id` = null WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 1
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] DELETE FROM `gpap`.`transaction` WHERE `id` = ? AND `merchant_header_id` = ? AND `transaction_type_id` = ?
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:28:46 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:28:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:28:47 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:28:47 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:28:58 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:04 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:07 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:29:08 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL LIMIT :APL0
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT COUNT(*) "rowcount" FROM `gpap`.`data_entry` WHERE `id` = ? AND `user_id` = ? AND `batch_id` = ? AND `task_id` = ?
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] INSERT INTO `gpap`.`data_entry` (`user_id`, `batch_id`, `task_id`, `started_at`, `ended_at`) VALUES (?, ?, ?, DEFAULT, DEFAULT)
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] UPDATE `gpap`.`batch` SET `entry_status` = ?, `verify_status` = ?, `balance_status` = null, `is_exception` = ?, `created_by` = ? WHERE `id` = ? AND `zip_id` = ? AND `trans_type_id` = ?
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:29:09 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` <> 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 2 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:29:10 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:29:14 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:29:20 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.merchant_number = ? AND m.dcn = ? AND m.deposit_amount = ? AND z.region_code = ? AND t.id = ?
[Sun, 29 Apr 18 23:29:20 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.dcn = ? AND z.region_code = ? AND DATE(m.deposit_date) = DATE(NOW()) AND t.id = ?
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] SELECT COUNT(*) "rowcount" FROM `gpap`.`merchant_header` WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] INSERT INTO `gpap`.`merchant_header` (`data_entry_id`, `batch_id`, `merchant_number`, `merchant_name`, `currency_id`, `other_currency`, `dcn`, `deposit_date`, `deposit_amount`, `batch_pull_reason_id`) VALUES (?, ?, ?, ?, ?, DEFAULT, ?, NOW(), ?, DEFAULT)
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 2
[Sun, 29 Apr 18 23:29:27 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:28 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:29:30 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:30 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:30 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:29:30 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:30 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:30 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:29:32 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:34 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] UPDATE `gpap`.`data_entry` SET `started_at` = ?, `ended_at` = NOW() WHERE `id` = ? AND `user_id` = ? AND `batch_id` = ? AND `task_id` = ?
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:36 +0800][DEBUG] UPDATE `gpap`.`batch` SET `entry_status` = ?, `verify_status` = ?, `balance_status` = null, `is_exception` = ?, `created_by` = ? WHERE `id` = ? AND `zip_id` = ? AND `trans_type_id` = ?
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:37 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:29:38 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:38 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:38 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:29:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:39 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:39 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:29:41 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` <> 5 LIMIT :APL0
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:29:58 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 2 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:29:59 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:30:14 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.merchant_number = ? AND m.dcn = ? AND m.deposit_amount = ? AND z.region_code = ? AND t.id = ?
[Sun, 29 Apr 18 23:30:14 +0800][DEBUG] SELECT COUNT(de.id) AS Total 
                    FROM data_entry de 
                    INNER JOIN merchant_header m ON m.data_entry_id = de.id 
                    INNER JOIN task t ON t.id = de.task_id 
                    INNER JOIN batch b ON b.id = m.batch_id 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    WHERE m.dcn = ? AND z.region_code = ? AND DATE(m.deposit_date) = DATE(NOW()) AND t.id = ?
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] UPDATE `gpap`.`merchant_header` SET `merchant_number` = ?, `merchant_name` = ?, `currency_id` = ?, `other_currency` = null, `dcn` = ?, `deposit_date` = NOW(), `deposit_amount` = ?, `batch_pull_reason_id` = null WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 2
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] DELETE FROM `gpap`.`transaction` WHERE `id` = ? AND `merchant_header_id` = ? AND `transaction_type_id` = ?
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:30:16 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:30:30 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Sun, 29 Apr 18 23:56:31 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 2 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` <> 5 LIMIT :APL0
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Sun, 29 Apr 18 23:56:32 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 1 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Sun, 29 Apr 18 23:56:33 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Sun, 29 Apr 18 23:56:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:36 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:56:36 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:56:36 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:36 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:56:36 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:56:39 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:56:40 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:56:42 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 6 LIMIT :APL0
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 6 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:56:44 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`is_exception` = 1 AND `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status` = 'Complete' AND `batch`.`balance_status`  IS NULL
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Sun, 29 Apr 18 23:56:46 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Sun, 29 Apr 18 23:56:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:47 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:56:47 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:56:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:56:48 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:56:48 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:56:50 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:57:33 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:57:33 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Sun, 29 Apr 18 23:57:33 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Sun, 29 Apr 18 23:57:35 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Sun, 29 Apr 18 23:57:35 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Sun, 29 Apr 18 23:57:35 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Sun, 29 Apr 18 23:57:35 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Sun, 29 Apr 18 23:57:39 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:00:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:00:56 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:00:56 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:00:57 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:00:57 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:00:57 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:00:57 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:05:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:05:44 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:05:44 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:05:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:05:44 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:05:44 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:05:48 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:05:48 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:05:48 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:05:52 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:05:52 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:05:52 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:06:03 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:06:05 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:06:06 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:06:07 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:07 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:06:07 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:06:07 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:06:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:56 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:06:56 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:06:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:06:56 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:06:56 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:06:57 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:00 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:02 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:03 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:07:04 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:04 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:04 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:04 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:08 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:07:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:09 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:09 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:07:09 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:09 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:09 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:10 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:14 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT `batch`.`id`, `batch`.`zip_id`, `batch`.`trans_type_id`, `batch`.`entry_status`, `batch`.`verify_status`, `batch`.`balance_status`, `batch`.`is_exception`, `batch`.`created_by` FROM `gpap`.`batch` WHERE `batch`.`id` = :0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`batch_id` = 1 AND `data_entry`.`task_id` = 5 LIMIT :APL0
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction_type' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] DESCRIBE `gpap`.`transaction_type`
[Mon, 30 Apr 18 00:07:16 +0800][DEBUG] SELECT `transaction_type`.`id`, `transaction_type`.`type`, `transaction_type`.`description`, `transaction_type`.`created_by` FROM `gpap`.`transaction_type` WHERE `transaction_type`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'image' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`image`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `image`.`id`, `image`.`path`, `image`.`type`, `image`.`zip_id`, `image`.`trans_type_id`, `image`.`batch_id`, `image`.`is_start`, `image`.`is_completed`, `image`.`created_by` FROM `gpap`.`image` WHERE `image`.`batch_id` = 1
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Batch'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'installment_months' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`installment_months`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `installment_months`.`id`, `installment_months`.`on_display`, `installment_months`.`on_report`, `installment_months`.`charge_type` FROM `gpap`.`installment_months`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'pull_reason' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`pull_reason`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `pull_reason`.`id`, `pull_reason`.`on_display`, `pull_reason`.`on_report`, `pull_reason`.`level` FROM `gpap`.`pull_reason` WHERE `pull_reason`.`level` = 'Slip'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'other_exception' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`other_exception`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `other_exception`.`id`, `other_exception`.`title` FROM `gpap`.`other_exception`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = 2 AND `merchant_header`.`batch_id` = 1 LIMIT :APL0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'demographic' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`demographic`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `demographic`.`id`, `demographic`.`corporate`, `demographic`.`region`, `demographic`.`principal`, `demographic`.`associate`, `demographic`.`chain`, `demographic`.`merchant`, `demographic`.`merchantStatus`, `demographic`.`merchantCategoryCode`, `demographic`.`currency`, `demographic`.`doingBusinessAs`, `demographic`.`attention`, `demographic`.`firstAddress`, `demographic`.`secondAddress`, `demographic`.`city`, `demographic`.`stateCountry`, `demographic`.`postal`, `demographic`.`spokenLanguage`, `demographic`.`telephoneNumber`, `demographic`.`acceptOtherCurrency`, `demographic`.`acceptInstallment`, `demographic`.`acceptRetailSales`, `demographic`.`acceptCashAdvance`, `demographic`.`acceptAmex`, `demographic`.`acceptCup`, `demographic`.`acceptJcb`, `demographic`.`acceptMasterCard`, `demographic`.`acceptPrivateLabel`, `demographic`.`acceptVisa`, `demographic`.`createdBy`, `demographic`.`createdDate` FROM `gpap`.`demographic` WHERE `demographic`.`merchant` = 1 LIMIT :APL0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT merchant_header_id, sequence, transaction_type_id, `region_code`, AES_DECRYPT(`card_number`, 'bM6xyt`8P!Ubkw:Lf*') as card_number, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`
                    FROM transaction 
                    WHERE merchant_header_id = ?
                    ORDER BY sequence ASC
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region` WHERE `region`.`code` = 'BN' LIMIT :APL0
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'currency' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] DESCRIBE `gpap`.`currency`
[Mon, 30 Apr 18 00:07:17 +0800][DEBUG] SELECT `currency`.`id`, `currency`.`num_code`, `currency`.`alpha_code`, `currency`.`remarks` FROM `gpap`.`currency`  INNER JOIN `gpap`.`region_currency` ON `region_currency`.`currency_id` = `currency`.`id` WHERE `region_currency`.`region_code` = :APR0
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'merchant_header' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] DESCRIBE `gpap`.`merchant_header`
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] SELECT `merchant_header`.`id`, `merchant_header`.`data_entry_id`, `merchant_header`.`batch_id`, `merchant_header`.`merchant_number`, `merchant_header`.`merchant_name`, `merchant_header`.`currency_id`, `merchant_header`.`other_currency`, `merchant_header`.`dcn`, `merchant_header`.`deposit_date`, `merchant_header`.`deposit_amount`, `merchant_header`.`batch_pull_reason_id` FROM `gpap`.`merchant_header` WHERE `merchant_header`.`data_entry_id` = :1 AND `merchant_header`.`batch_id` = :2 LIMIT :APL0
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] UPDATE `gpap`.`merchant_header` SET `merchant_number` = ?, `merchant_name` = ?, `currency_id` = ?, `other_currency` = null, `dcn` = ?, `deposit_date` = NOW(), `deposit_amount` = ?, `batch_pull_reason_id` = null WHERE `id` = ? AND `data_entry_id` = ? AND `batch_id` = ?
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'transaction' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] DESCRIBE `gpap`.`transaction`
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] SELECT `transaction`.`id`, `transaction`.`merchant_header_id`, `transaction`.`sequence`, `transaction`.`transaction_type_id`, `transaction`.`region_code`, `transaction`.`card_number`, `transaction`.`transaction_date`, `transaction`.`authorization_code`, `transaction`.`transaction_amount`, `transaction`.`installment_months_id`, `transaction`.`airline_ticket_number`, `transaction`.`customer_reference_identifier`, `transaction`.`merchant_order_number`, `transaction`.`commodity_code`, `transaction`.`slip_pull_reason_id`, `transaction`.`exception_id`, `transaction`.`other_exception_detail`, `transaction`.`image_id`, `transaction`.`image_file` FROM `gpap`.`transaction` WHERE `transaction`.`merchant_header_id` = 2
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] DELETE FROM `gpap`.`transaction` WHERE `id` = ? AND `merchant_header_id` = ? AND `transaction_type_id` = ?
[Mon, 30 Apr 18 00:07:18 +0800][DEBUG] INSERT INTO transaction (merchant_header_id, sequence, transaction_type_id, `region_code`, `card_number`, `transaction_date`, `authorization_code`,
                    `transaction_amount`, `installment_months_id`, `airline_ticket_number`, `customer_reference_identifier`, `merchant_order_number`, `commodity_code`,
                    `slip_pull_reason_id`, `exception_id`, `other_exception_detail`, `image_id`, `image_file`)
                    VALUES (?, ?, ?, ?, AES_ENCRYPT(?, 'bM6xyt`8P!Ubkw:Lf*'), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
[Mon, 30 Apr 18 00:07:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:19 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:19 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:07:19 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:19 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:19 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:19 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 5 LIMIT :APL0
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 5 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:27 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Mon, 30 Apr 18 00:07:28 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:28 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:28 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status` = 'Complete' AND `batch`.`verify_status`  IS NULL
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:30 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:07:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:32 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:32 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:07:32 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:32 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:32 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:32 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:35 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:38 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:38 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:38 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:38 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:41 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:43 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:43 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:43 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:43 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:44 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:44 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:44 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:44 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:47 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:47 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:47 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:49 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:49 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:49 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:49 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:51 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'user_task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`user_task`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `user_task`.`id`, `user_task`.`user_id`, `user_task`.`task_id` FROM `gpap`.`user_task` WHERE `user_task`.`user_id` = 2
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = :APR0 LIMIT :APL0
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'task' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`task`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `task`.`id`, `task`.`name`, `task`.`description` FROM `gpap`.`task` WHERE `task`.`id` = 4 LIMIT :APL0
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'data_entry' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`data_entry`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT `data_entry`.`id`, `data_entry`.`user_id`, `data_entry`.`batch_id`, `data_entry`.`task_id`, `data_entry`.`started_at`, `data_entry`.`ended_at` FROM `gpap`.`data_entry` WHERE `data_entry`.`user_id` = 2 AND `data_entry`.`task_id` = 4 AND `data_entry`.`ended_at`  IS NULL ORDER BY `data_entry`.`started_at` DESC
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'batch' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] DESCRIBE `gpap`.`batch`
[Mon, 30 Apr 18 00:07:54 +0800][DEBUG] SELECT COUNT(*) AS `rowcount` FROM `gpap`.`batch` WHERE `batch`.`entry_status`  IS NULL
[Mon, 30 Apr 18 00:07:55 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'region' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:55 +0800][DEBUG] DESCRIBE `gpap`.`region`
[Mon, 30 Apr 18 00:07:55 +0800][DEBUG] SELECT `region`.`code`, `region`.`num_code`, `region`.`name`, `region`.`created_by`, `region`.`regioncol` FROM `gpap`.`region`
[Mon, 30 Apr 18 00:07:56 +0800][DEBUG] SELECT IF(COUNT(*) > 0, 1, 0) FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_NAME`= 'zip' AND `TABLE_SCHEMA` = 'gpap'
[Mon, 30 Apr 18 00:07:56 +0800][DEBUG] DESCRIBE `gpap`.`zip`
[Mon, 30 Apr 18 00:07:56 +0800][DEBUG] SELECT `zip`.`id`, `zip`.`region_code`, `zip`.`rec_date`, `zip`.`operator_id`, `zip`.`sequence`, `zip`.`created_by` FROM `gpap`.`zip` WHERE `zip`.`region_code` = :0
[Mon, 30 Apr 18 00:07:56 +0800][DEBUG] SELECT z.region_code AS region_code, z.rec_date AS rec_date, tt.type AS type, LPAD(z.sequence,4,'0') as sequence, b.id AS batch_id, a.last_activity, t.id as task_id
                    FROM batch b 
                    INNER JOIN zip z ON z.id = b.zip_id 
                    INNER JOIN transaction_type tt ON tt.id = b.trans_type_id 
                    INNER JOIN (
                        SELECT DISTINCT b.id, CASE WHEN balance_status = 'Complete' 
                                    THEN 'Balancing' 
                                ELSE 
                                    CASE WHEN verify_status = 'Complete' 
                                        THEN 'Verify' 
                                    ELSE
                                        CASE WHEN entry_status = 'Complete' 
											THEN 'Entry 1' 
										ELSE
											'-'
										END
                                    END 
                                END AS last_activity
                        FROM batch b
                        INNER JOIN task t
                    ) AS a ON a.id = b.id 
                    LEFT JOIN task t ON t.name = a.last_activity
                    WHERE b.zip_id = ?
